<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
    <body>
        <!-- 1 Sección principal para mostrar la informaccion de las categorias -->
        <section th:fragment="categoriasTabs" id="categorias">
            <div class="row py-4">
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a class="nav-link" 
                           aria-current="page" 
                           href="/pruebas/listado"
                           >[[#{pruebas.todas}]]</a>
                    </li>
                    <li th:each="categoria : ${categorias}" class="nav-item">
                        <a class="nav-link" 
                           th:href="@{/pruebas/listado/}+${categoria.idCategoria}"
                           >[[${categoria.descripcion}]]</a>
                    </li>                    
                </ul>
            </div>
        </section>

        <!-- 2 Sección principal para mostrar la informaccion de la entidad producto -->
        <section th:fragment="listadoProductos" id="productos">
            <div class="row row-cols-4">
                <div class="card" th:each="p : ${productos}">
                    <figure><img th:src="${p.rutaImagen}" 
                                 class="card-img-top" alt="..."
                                 height="200"/>
                        <figcaption>[[${p.precio}+' ('+${p.existencias}+')']]
                        </figcaption>
                    </figure>
                    <div class="card-header">
                        <h4 class="card-title">[[${p.descripcion}]]</h4>
                    </div>
                    <div class="card-body">
                        <p class="card-text">[[${p.detalle}]]</p>                    
                    </div>
                </div>
            </div>
        </section>

        <!-- 3 Sección para crear los filtros -->
        <section th:fragment="filtros" class="bg-light">
            <div class="row py-2">
                <div class="col-md-1"></div>
                <div class="col-md-3">
                    <form method="POST" th:action="@{/pruebas/query1}" 
                          class="was-validated">
                        <div class="card">                            
                            <div class="card-body">
                                <div class="mb-3">
                                    <label for="precioInf">[[#{pruebas.precio.inferior}]]</label>
                                    <input type="number" class="form-control" 
                                           th:value="${precioInf}"
                                           th:name="precioInf" required="true"/>
                                </div>
                                <div class="mb-3">
                                    <label for="precioSup">[[#{pruebas.precio.superior}]]</label>
                                    <input type="number" class="form-control" 
                                           th:value="${precioSup}"
                                           th:name="precioSup" required="true"/>
                                </div>
                            </div>
                            <div class="card-footer text-center">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-check"></i> [[#{pruebas.ampliadas}]]
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="col-md-3">
                    <form method="POST" th:action="@{/pruebas/query2}" 
                          class="was-validated">
                        <div class="card">                            
                            <div class="card-body">
                                <div class="mb-3">
                                    <label for="precioInf">[[#{pruebas.precio.inferior}]]</label>
                                    <input type="number" class="form-control" 
                                           th:value="${precioInf}"
                                           th:name="precioInf" required="true"/>
                                </div>
                                <div class="mb-3">
                                    <label for="precioSup">[[#{pruebas.precio.superior}]]</label>
                                    <input type="number" class="form-control" 
                                           th:value="${precioSup}"
                                           th:name="precioSup" required="true"/>
                                </div>
                            </div>
                            <div class="card-footer text-center">
                                <button type="submit" class="btn btn-info">
                                    <i class="fas fa-check"></i> [[#{pruebas.jpql}]]
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="col-md-3">
                    <form method="POST" th:action="@{/pruebas/query3}" 
                          class="was-validated">
                        <div class="card success">
                            <div class="card-body">
                                <div class="mb-3">
                                    <label for="precioInf">[[#{pruebas.precio.inferior}]]</label>
                                    <input type="number" class="form-control" 
                                           th:value="${precioInf}"
                                           th:name="precioInf" required="true"/>
                                </div>
                                <div class="mb-3">
                                    <label for="precioSup">[[#{pruebas.precio.superior}]]</label>
                                    <input type="number" class="form-control" 
                                           th:value="${precioSup}"
                                           th:name="precioSup" required="true"/>
                                </div>
                            </div>
                            <div class="card-footer text-center">
                                <button type="submit" class="btn btn-warning">
                                    <i class="fas fa-check"></i> [[#{pruebas.nativo}]]
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
                Ahora veo el archivo HTML actual que manejas para tu proyecto. Basado en esto, deberías agregar un nuevo formulario en la sección de filtros para tu nueva consulta ampliada que filtrada por categoría y rango de precios.
                Aquí te muestro cómo modificar la sección de filtros para incluir tu nueva consulta ampliada:
                htmlCopiar<!-- 3 Sección para crear los filtros -->
                <section th:fragment="filtros" class="bg-light">
                    <div class="row py-2">
                        <div class="col-md-1"></div>
                        <!-- Formulario existente para Consultas Ampliadas -->
                        <div class="col-md-3">
                            <form method="POST" th:action="@{/pruebas/query1}" 
                                  class="was-validated">
                                <div class="card">                            
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label for="precioInf">[[#{pruebas.precio.inferior}]]</label>
                                            <input type="number" class="form-control" 
                                                   th:value="${precioInf}"
                                                   th:name="precioInf" required="true"/>
                                        </div>
                                        <div class="mb-3">
                                            <label for="precioSup">[[#{pruebas.precio.superior}]]</label>
                                            <input type="number" class="form-control" 
                                                   th:value="${precioSup}"
                                                   th:name="precioSup" required="true"/>
                                        </div>
                                    </div>
                                    <div class="card-footer text-center">
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-check"></i> [[#{pruebas.ampliadas}]]
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- NUEVO FORMULARIO PARA LA NUEVA CONSULTA AMPLIADA -->
                        <div class="col-md-3">
                            <form method="POST" th:action="@{/pruebas/queryCategoriaPrecio}" 
                                  class="was-validated">
                                <div class="card">                            
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label for="categoriaId">Categoría</label>
                                            <select id="categoriaId" name="categoriaId" class="form-select" required>
                                                <option value="">Seleccione una categoría</option>
                                                <option th:each="cat : ${categorias}" 
                                                        th:value="${cat.idCategoria}" 
                                                        th:text="${cat.descripcion}"></option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label for="precioInf">[[#{pruebas.precio.inferior}]]</label>
                                            <input type="number" class="form-control" 
                                                   th:value="${precioInf}"
                                                   th:name="precioInf" required="true"/>
                                        </div>
                                        <div class="mb-3">
                                            <label for="precioSup">[[#{pruebas.precio.superior}]]</label>
                                            <input type="number" class="form-control" 
                                                   th:value="${precioSup}"
                                                   th:name="precioSup" required="true"/>
                                        </div>
                                    </div>
                                    <div class="card-footer text-center">
                                        <button type="submit" class="btn btn-success">
                                            <i class="fas fa-check"></i> Consulta por Categoría
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </section> 


                </body>
                </html>